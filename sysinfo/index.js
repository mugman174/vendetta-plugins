(function(m,C,s,p,f,D,l,M,N){"use strict";function S(){let{height:t,width:e,scale:n}=s.ReactNative.Dimensions.get("screen");return t*=n,e*=n,{width:e,height:t}}function b(){const{cpuCoreCount:t,cpuPercentage:e,memory:n}=p.findByProps("memory"),a=e.toFixed(2)+"%",c=parseFloat((n/1e3).toPrecision(3))+" MB",{type:o,details:i}=p.findByProps("useNetInfo").fetch()._55;let r="";return o=="cellular"?r=`Cellular ${i.cellularGeneration?.toUpperCase()||""}`:r={wifi:"WiFi",ethernet:"Ethernet",other:"Unknown",bluetooth:"Bluetooth",wimax:"WiMAX",vpn:"VPN"}[o]??o,{cpuCoreCount:t,cpuPerc:a,memUsage:c,netInfo:r}}function B(){return f.NativeModules.InfoDictionaryManager??f.NativeModules.RTNClientInfoManager}function P(){try{const{cpuCoreCount:t,cpuPerc:e,memUsage:n,netInfo:a}=b(),{ReleaseChannel:c}=B(),{vendetta:o,discord:i,react:r,hermes:d,os:_,device:F}=C.getDebugInfo(),{version:x,bytecodeVersion:O}=d,{version:j,nativeVersion:k}=r,{name:h,version:H,sdk:v}=_,{manufacturer:K,brand:w,model:g,codename:L}=F,{version:T}=o,{version:q,build:A}=i,W=h=="iOS"?L:`${w} ${g}`,{width:G,height:X}=S();let u={Device:{Device:W,Model:g,Manufacturer:K,Brand:w,Display:G+"x"+X},Hardware:{"CPU Cores":t,Network:a},Software:{OS:h,Version:H},Discord:{Branch:c,Version:q,Build:A,Vendetta:T,"CPU Usage":e,"Memory Usage":n},React:{Version:j,"Hermes Bytecode":O,Hermes:x,Native:k}};return window.enmity&&(u.Discord.Enmity=window.enmity.version),window.aliucord&&(u.Discord.Aliucord=window.aliucord.version),v&&(u.Software["SDK Version"]=v),u}catch(t){throw alert(t),console.trace(t),t}}function $(t,e){try{let n=[`__System Information__
`];const a=P();Object.keys(a).forEach(o=>{const i=l.storage[o.toLowerCase()],r=t.find(d=>d.name==o.toLowerCase())?.value??i;(r||i)&&!(i&&!r)&&(n.push(`[**${o}**]`),Object.keys(a[o]).forEach(d=>{n.push(`> ${d}: ${a[o][d]}`)}))});const c=t.find(o=>o.name=="ephemeral")?.value;if(c===!0||c===void 0)p.findByProps("sendBotMessage").sendBotMessage(e.channel.id,n.join(`
`));else return{content:n.join(`
`)}}catch(n){throw alert(n),console.error(n),n}}const{FormRow:V,FormSection:R,FormSwitch:U}=N.Forms;var E=()=>{D.useProxy(l.storage);const t=["device","hardware","software","discord","react"];for(const e of t)l.storage[e]??=!0;return s.React.createElement(s.ReactNative.ScrollView,{style:{flex:1}},s.React.createElement(R,{title:"Options",titleStyleType:"no_border"},t.map(e=>s.React.createElement(V,{label:e,trailing:s.React.createElement(U,{value:l.storage[e],onValueChange:n=>l.storage[e]=n})}))))};let y;var I={onLoad:()=>{let t=[{name:"ephemeral",displayName:"ephemeral",description:"Keep sysinfo ephemeral (default: true)",displayDescription:"Keep sysinfo ephemeral (default: true)",type:5,required:!1},...["device","hardware","software","discord","react"].map(e=>({name:e,displayName:e,description:`Display the ${e} section. Set default in settings.`,displayDescription:`Display the ${e} section. Set default in settings.`,type:5,required:!1}))];y=M.registerCommand({name:"sysinfo",displayName:"sysinfo",description:"system info",displayDescription:"system info",options:t,execute:$,applicationId:-1,inputType:1,type:1})},onUnload:()=>{y()},settings:E};return m.default=I,Object.defineProperty(m,"__esModule",{value:!0}),m})({},vendetta.debug,vendetta.metro.common,vendetta.metro,vendetta.metro.common.ReactNative,vendetta.storage,vendetta.plugin,vendetta.commands,vendetta.ui.components);
