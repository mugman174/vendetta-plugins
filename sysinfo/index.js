(function(m,D,s,p,f,M,l,N,S){"use strict";function b(){let{height:e,width:t,scale:n}=s.ReactNative.Dimensions.get("screen");return e*=n,t*=n,{width:t,height:e}}function B(){const{cpuCoreCount:e,cpuPercentage:t,memory:n}=p.findByProps("memory"),a=t.toFixed(2)+"%",c=parseFloat((n/1e3).toPrecision(3))+" MB",{type:o,details:i}=p.findByProps("useNetInfo").fetch()._55;let r="";return o=="cellular"?r=`Cellular ${i.cellularGeneration?.toUpperCase()||""}`:r={wifi:"WiFi",ethernet:"Ethernet",other:"Unknown",bluetooth:"Bluetooth",wimax:"WiMAX",vpn:"VPN"}[o]??o,{cpuCoreCount:e,cpuPerc:a,memUsage:c,netInfo:r}}function P(){return f.NativeModules.InfoDictionaryManager??f.NativeModules.RTNClientInfoManager}function $(){try{const{cpuCoreCount:e,cpuPerc:t,memUsage:n,netInfo:a}=B(),{ReleaseChannel:c}=P(),{vendetta:o,discord:i,react:r,hermes:d,os:F,device:x}=D.getDebugInfo(),{version:O,bytecodeVersion:j}=d,{version:k,nativeVersion:H}=r,{name:v,version:K,sdk:w}=F,{manufacturer:L,brand:g,model:C,codename:T}=x,{version:q}=o,{version:A,build:W}=i,G=v=="iOS"?T:`${g} ${C}`,{width:X,height:z}=b();let u={Device:{Device:G,Model:C,Manufacturer:L,Brand:g,Display:X+"x"+z},Hardware:{"CPU Cores":e,Network:a},Software:{OS:v,Version:K},Discord:{Branch:c,Version:A,Build:W,Vendetta:q,"CPU Usage":t,"Memory Usage":n},React:{Version:k,"Hermes Bytecode":j,Hermes:O,Native:H}};return window.enmity&&(u.Discord.Enmity=window.enmity.version),window.aliucord&&(u.Discord.Aliucord=window.aliucord.version),w&&(u.Software["SDK Version"]=w),u}catch(e){throw alert(e),console.trace(e),e}}function V(e,t){try{let n=[`__System Information__
`];const a=$();Object.keys(a).forEach(o=>{const i=l.storage[o.toLowerCase()],r=e.find(d=>d.name==o.toLowerCase())?.value??i;(r||i)&&!(i&&!r)&&(n.push(`[**${o}**]`),Object.keys(a[o]).forEach(d=>{n.push(`> ${d}: ${a[o][d]}`)}))});const c=e.find(o=>o.name=="ephemeral")?.value;if(c===!0||c===void 0)p.findByProps("sendBotMessage").sendBotMessage(t.channel.id,n.join(`
`));else return{content:n.join(`
`)}}catch(n){throw alert(n),console.error(n),n}}const{FormRow:R,FormSection:U,FormSwitch:E}=S.Forms,y=["device","hardware","software","discord","react"];for(const e of y)l.storage[e]??=!0;var I=()=>(M.useProxy(l.storage),s.React.createElement(s.ReactNative.ScrollView,{style:{flex:1}},s.React.createElement(U,{title:"Options",titleStyleType:"no_border"},y.map(e=>s.React.createElement(R,{label:e,trailing:s.React.createElement(E,{value:l.storage[e],onValueChange:t=>l.storage[e]=t})})))));let h;var _={onLoad:()=>{let e=[{name:"ephemeral",displayName:"ephemeral",description:"Keep sysinfo ephemeral (default: true)",displayDescription:"Keep sysinfo ephemeral (default: true)",type:5,required:!1},...["device","hardware","software","discord","react"].map(t=>({name:t,displayName:t,description:`Display the ${t} section. Set default in settings.`,displayDescription:`Display the ${t} section. Set default in settings.`,type:5,required:!1}))];h=N.registerCommand({name:"sysinfo",displayName:"sysinfo",description:"system info",displayDescription:"system info",options:e,execute:V,applicationId:-1,inputType:1,type:1})},onUnload:()=>{h()},settings:I};return m.default=_,Object.defineProperty(m,"__esModule",{value:!0}),m})({},vendetta.debug,vendetta.metro.common,vendetta.metro,vendetta.metro.common.ReactNative,vendetta.storage,vendetta.plugin,vendetta.commands,vendetta.ui.components);
