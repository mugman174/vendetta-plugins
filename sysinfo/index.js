(function(p,C,s,m,f,D,l,M,N){"use strict";function S(){let{height:e,width:t,scale:n}=s.ReactNative.Dimensions.get("screen");return e*=n,t*=n,{width:t,height:e}}function b(){const{cpuCoreCount:e,cpuPercentage:t,memory:n}=m.findByProps("memory"),r=t.toFixed(2)+"%",c=parseFloat((n/1e3).toPrecision(3))+" MB",{type:o,details:i}=m.findByProps("useNetInfo").fetch()._55;let a="";return o=="cellular"?a=`Cellular ${i.cellularGeneration?.toUpperCase()||""}`:a={wifi:"WiFi",ethernet:"Ethernet",other:"Unknown",bluetooth:"Bluetooth",wimax:"WiMAX",vpn:"VPN"}[o]??o,{cpuCoreCount:e,cpuPerc:r,memUsage:c,netInfo:a}}function B(){return f.NativeModules.InfoDictionaryManager??f.NativeModules.RTNClientInfoManager}function P(){try{const{cpuCoreCount:e,cpuPerc:t,memUsage:n,netInfo:r}=b(),{ReleaseChannel:c}=B(),{vendetta:o,discord:i,react:a,hermes:d,os:_,device:F}=C.getDebugInfo(),{version:x,bytecodeVersion:O}=d,{version:j,nativeVersion:k}=a,{name:h,version:H,sdk:v}=_,{manufacturer:K,brand:w,model:g,codename:L}=F,{version:T}=o,{version:q,build:A}=i,W=h=="iOS"?L:`${w} ${g}`,{width:G,height:X}=S();let u={Device:{Device:W,Model:g,Manufacturer:K,Brand:w,Display:G+"x"+X},Hardware:{"CPU Cores":e,Network:r},Software:{OS:h,Version:H},Discord:{Branch:c,Version:q,Build:A,Vendetta:T,"CPU Usage":t,"Memory Usage":n},React:{Version:j,"Hermes Bytecode":O,Hermes:x,Native:k}};return window.enmity&&(u.Discord.Enmity=window.enmity.version),window.aliucord&&(u.Discord.Aliucord=window.aliucord.version),v&&(u.Software["SDK Version"]=v),u}catch(e){throw alert(e),console.trace(e),e}}function $(e,t){try{let n=[`__System Information__
`];const r=P();Object.keys(r).forEach(o=>{const i=l.storage[o.toLowerCase()],a=e.find(d=>d.name==o.toLowerCase())?.value??i;(a||i)&&!(i&&!a)&&(n.push(`[**${o}**]`),Object.keys(r[o]).forEach(d=>{n.push(`> ${d}: ${r[o][d]}`)}))});const c=e.find(o=>o.name=="ephemeral")?.value;if(c===!0||c===void 0)m.findByProps("sendBotMessage").sendBotMessage(t.channel.id,n.join(`
`));else return{content:n.join(`
`)}}catch(n){throw alert(n),console.error(n),n}}const{FormRow:V,FormSection:R,FormSwitch:U}=N.Forms;var E=()=>{D.useProxy(l.storage);const e=["device","hardware","software","discord","react"];return s.React.createElement(s.ReactNative.ScrollView,{style:{flex:1}},s.React.createElement(R,{title:"Options",titleStyleType:"no_border"},e.map(t=>s.React.createElement(V,{label:t,trailing:s.React.createElement(U,{value:l.storage[t],onValueChange:n=>l.storage[t]=n})}))))};let y;var I={onLoad:()=>{let e=[{name:"ephemeral",displayName:"ephemeral",description:"Keep sysinfo ephemeral (default: true)",displayDescription:"Keep sysinfo ephemeral (default: true)",type:5,required:!1},...["device","hardware","software","discord","react"].map(t=>({name:t,displayName:t,description:`Display the ${t} section. Set default in settings.`,displayDescription:`Display the ${t} section. Set default in settings.`,type:5,required:!1}))];y=M.registerCommand({name:"sysinfo",displayName:"sysinfo",description:"system info",displayDescription:"system info",options:e,execute:$,applicationId:-1,inputType:1,type:1})},onUnload:()=>{y()},settings:E};return p.default=I,Object.defineProperty(p,"__esModule",{value:!0}),p})({},vendetta.debug,vendetta.metro.common,vendetta.metro,vendetta.metro.common.ReactNative,vendetta.storage,vendetta.plugin,vendetta.commands,vendetta.ui.components);
