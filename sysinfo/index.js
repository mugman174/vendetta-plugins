(function(p,b,c,f,y,M,d,N,S){"use strict";function B(){let{height:e,width:t,scale:n}=c.ReactNative.Dimensions.get("screen");return e*=n,t*=n,{width:t,height:e}}function P(){const{cpuCoreCount:e,cpuPercentage:t,memory:n}=f.findByProps("memory"),a=t.toFixed(2)+"%",i=parseFloat((n/1e3).toPrecision(3))+" MB",{type:s,details:o}=Object.values(f.findByProps("useNetInfo").fetch()).filter(l=>l?.type)[0];let r="";return r={wifi:"WiFi",ethernet:"Ethernet",other:"Unknown",bluetooth:"Bluetooth",wimax:"WiMAX",vpn:"VPN",cellular:o.cellularGeneration?.toUpperCase()||"Cellular"}[s]??s,{cpuCoreCount:e,cpuPerc:a,memUsage:i,netInfo:r}}function V(){return y.NativeModules.InfoDictionaryManager??y.NativeModules.RTNClientInfoManager}function R(){try{const{cpuCoreCount:e,cpuPerc:t,memUsage:n,netInfo:a}=P(),{ReleaseChannel:i}=V(),{vendetta:s,discord:o,react:r,hermes:l,os:u,device:_}=b.getDebugInfo(),{version:j,bytecodeVersion:x}=l,{version:k,nativeVersion:H}=r,{name:w,version:K,sdk:g}=u,{manufacturer:L,brand:C,model:D,codename:T}=_,{version:q}=s,{version:A,build:W}=o,G=w=="iOS"?T:`${C} ${D}`,{width:X,height:z}=B();let m={Device:{Device:G,Model:D,Manufacturer:L,Brand:C,Display:X+"x"+z},Hardware:{"CPU Cores":e,Network:a},Software:{OS:w,Version:K},Discord:{Branch:i,Version:A,Build:W,Vendetta:q,"CPU Usage":t,"Memory Usage":n},React:{Version:k,"Hermes Bytecode":x,Hermes:j,Native:H}};return window.enmity&&(m.Discord.Enmity=window.enmity.version),window.aliucord&&(m.Discord.Aliucord=window.aliucord.version),g&&(m.Software["SDK Version"]=g),m}catch(e){throw alert(e),console.trace(e),e}}function $(e,t){try{let n=[`__System Information__
`];const a=R();Object.keys(a).forEach(o=>{const r=d.storage[o.toLowerCase()],l=e.find(u=>u.name==o.toLowerCase())?.value??r;(l||r)&&!(r&&!l)&&(n.push(`[**${o}**]`),Object.keys(a[o]).forEach(u=>{n.push(`> ${u}: ${a[o][u]}`)}))});const i=d.storage.ephemeral,s=e.find(o=>o.name=="ephemeral")?.value??i;if((s||i)&&!(i&&!s))f.findByProps("sendBotMessage").sendBotMessage(t.channel.id,n.join(`
`));else return{content:n.join(`
`)}}catch(n){throw alert(n),console.error(n),n}}const{FormRow:U,FormSection:E,FormSwitch:I}=S.Forms,h=["device","hardware","software","discord","react","ephemeral"];for(const e of h)d.storage[e]??=!0;var F=()=>(M.useProxy(d.storage),c.React.createElement(c.ReactNative.ScrollView,{style:{flex:1}},c.React.createElement(E,{title:"Options",titleStyleType:"no_border"},h.map(e=>c.React.createElement(U,{label:e,trailing:c.React.createElement(I,{value:d.storage[e],onValueChange:t=>d.storage[e]=t})})))));let v;var O={onLoad:()=>{let e=[{name:"ephemeral",displayName:"ephemeral",description:"Keep sysinfo ephemeral (default: true)",displayDescription:"Keep sysinfo ephemeral (default: true)",type:5,required:!1},...["device","hardware","software","discord","react"].map(t=>({name:t,displayName:t,description:`Display the ${t} section. Set default in settings.`,displayDescription:`Display the ${t} section. Set default in settings.`,type:5,required:!1}))];v=N.registerCommand({name:"sysinfo",displayName:"sysinfo",description:"system info",displayDescription:"system info",options:e,execute:$,applicationId:-1,inputType:1,type:1})},onUnload:()=>{v()},settings:F};return p.default=O,Object.defineProperty(p,"__esModule",{value:!0}),p})({},vendetta.debug,vendetta.metro.common,vendetta.metro,vendetta.metro.common.ReactNative,vendetta.storage,vendetta.plugin,vendetta.commands,vendetta.ui.components);
